<div class="row">
  <h3>My Plans - Review Phase</h3>
</div>

<div class="row">
  <button type="button" class="waves-effect waves-light btn" [routerLink]="['/plans/create-custom']">
    Upload plan
    <i class="material-icons right">file_upload</i>
  </button>
</div>

<div class="row">
  <table class="highlight">
    <thead>
    <tr>
      <th>Name</th>
      <th>Version</th>
      <th>State</th>
      <th>Action</th>
    </tr>
    </thead>

    <tbody *ngIf="!loading && plans.length > 0">
    <tr *ngFor="let plan of plans; let idx = index" >
      <td>{{ plan.name | truncateText }}</td>
      <td>{{ plan.version }}</td>
      <td>{{ plan.state | planStatus}}</td>
      <td>
        <i *ngIf="plan.state === 'ReadyToReview'" class="material-icons action-icon" materialize="tooltip" data-position="bottom" data-delay="50" data-tooltip="Create review" [routerLink]="['create', plan.id]">
          add_circle_outline
        </i>
      </td>
    </tr>
    </tbody>

    <tr class="empty-table" *ngIf="!loading && plans.length === 0">
      <td colspan="4">Nothing to show.</td>
    </tr>
  </table>
  <div class="loading-data" *ngIf="loading">
    <app-spinner></app-spinner>
  </div>
</div>
